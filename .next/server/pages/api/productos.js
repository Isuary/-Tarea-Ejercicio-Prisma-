"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/productos";
exports.ids = ["pages/api/productos"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "(api)/./pages/api/productos.js":
/*!********************************!*\
  !*** ./pages/api/productos.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nasync function handler(req, res) {\n    if (req.method === \"GET\") {\n        const { search  } = req.query; // Recibe el parámetro de búsqueda\n        try {\n            let productos;\n            if (search) {\n                productos = await prisma.producto.findMany({\n                    where: {\n                        OR: [\n                            {\n                                codigo: {\n                                    contains: search\n                                }\n                            },\n                            {\n                                descripcion: {\n                                    contains: search\n                                }\n                            }, \n                        ]\n                    }\n                });\n            } else {\n                productos = await prisma.producto.findMany();\n            }\n            res.status(200).json(productos);\n        } catch (error) {\n            console.error(error);\n            res.status(500).json({\n                error: \"Error al obtener los productos\"\n            });\n        }\n    } else if (req.method === \"POST\") {\n        const { codigo , descripcion , proveedor , fechaVencimiento , ubicacionFisica , existenciaMinima  } = req.body;\n        try {\n            const nuevoProducto = await prisma.producto.create({\n                data: {\n                    codigo,\n                    descripcion,\n                    proveedor,\n                    fechaVencimiento: new Date(fechaVencimiento),\n                    ubicacionFisica,\n                    existenciaMinima: parseInt(existenciaMinima, 10)\n                }\n            });\n            res.status(201).json(nuevoProducto);\n        } catch (error1) {\n            console.error(error1);\n            res.status(400).json({\n                error: \"Error al crear el producto\"\n            });\n        }\n    } else if (req.method === \"PUT\") {\n        const { id , codigo: codigo1 , descripcion: descripcion1 , proveedor: proveedor1 , fechaVencimiento: fechaVencimiento1 , ubicacionFisica: ubicacionFisica1 , existenciaMinima: existenciaMinima1  } = req.body;\n        try {\n            const productoActualizado = await prisma.producto.update({\n                where: {\n                    id: parseInt(id)\n                },\n                data: {\n                    codigo: codigo1,\n                    descripcion: descripcion1,\n                    proveedor: proveedor1,\n                    fechaVencimiento: new Date(fechaVencimiento1),\n                    ubicacionFisica: ubicacionFisica1,\n                    existenciaMinima: parseInt(existenciaMinima1, 10)\n                }\n            });\n            res.status(200).json(productoActualizado);\n        } catch (error2) {\n            console.error(error2);\n            res.status(400).json({\n                error: \"Error al actualizar el producto\"\n            });\n        }\n    } else {\n        res.status(405).json({\n            message: \"M\\xe9todo no permitido\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvcHJvZHVjdG9zLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4QztBQUM5QyxNQUFNQyxNQUFNLEdBQUcsSUFBSUQsd0RBQVksRUFBRTtBQUVsQixlQUFlRSxPQUFPLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFO0lBQzlDLElBQUlELEdBQUcsQ0FBQ0UsTUFBTSxLQUFLLEtBQUssRUFBRTtRQUN4QixNQUFNLEVBQUVDLE1BQU0sR0FBRSxHQUFHSCxHQUFHLENBQUNJLEtBQUssRUFBRSxrQ0FBa0M7UUFDaEUsSUFBSTtZQUNGLElBQUlDLFNBQVM7WUFDYixJQUFJRixNQUFNLEVBQUU7Z0JBQ1ZFLFNBQVMsR0FBRyxNQUFNUCxNQUFNLENBQUNRLFFBQVEsQ0FBQ0MsUUFBUSxDQUFDO29CQUN6Q0MsS0FBSyxFQUFFO3dCQUNMQyxFQUFFLEVBQUU7NEJBQ0Y7Z0NBQUVDLE1BQU0sRUFBRTtvQ0FBRUMsUUFBUSxFQUFFUixNQUFNO2lDQUFFOzZCQUFFOzRCQUNoQztnQ0FBRVMsV0FBVyxFQUFFO29DQUFFRCxRQUFRLEVBQUVSLE1BQU07aUNBQUU7NkJBQUU7eUJBQ3RDO3FCQUNGO2lCQUNGLENBQUMsQ0FBQztZQUNMLE9BQU87Z0JBQ0xFLFNBQVMsR0FBRyxNQUFNUCxNQUFNLENBQUNRLFFBQVEsQ0FBQ0MsUUFBUSxFQUFFLENBQUM7WUFDL0MsQ0FBQztZQUNETixHQUFHLENBQUNZLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDVCxTQUFTLENBQUMsQ0FBQztRQUNsQyxFQUFFLE9BQU9VLEtBQUssRUFBRTtZQUNkQyxPQUFPLENBQUNELEtBQUssQ0FBQ0EsS0FBSyxDQUFDLENBQUM7WUFDckJkLEdBQUcsQ0FBQ1ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7Z0JBQUVDLEtBQUssRUFBRSxnQ0FBZ0M7YUFBRSxDQUFDLENBQUM7UUFDcEUsQ0FBQztJQUNILE9BQU8sSUFBSWYsR0FBRyxDQUFDRSxNQUFNLEtBQUssTUFBTSxFQUFFO1FBQ2hDLE1BQU0sRUFBRVEsTUFBTSxHQUFFRSxXQUFXLEdBQUVLLFNBQVMsR0FBRUMsZ0JBQWdCLEdBQUVDLGVBQWUsR0FBRUMsZ0JBQWdCLEdBQUUsR0FBR3BCLEdBQUcsQ0FBQ3FCLElBQUk7UUFDeEcsSUFBSTtZQUNGLE1BQU1DLGFBQWEsR0FBRyxNQUFNeEIsTUFBTSxDQUFDUSxRQUFRLENBQUNpQixNQUFNLENBQUM7Z0JBQ2pEQyxJQUFJLEVBQUU7b0JBQ0pkLE1BQU07b0JBQ05FLFdBQVc7b0JBQ1hLLFNBQVM7b0JBQ1RDLGdCQUFnQixFQUFFLElBQUlPLElBQUksQ0FBQ1AsZ0JBQWdCLENBQUM7b0JBQzVDQyxlQUFlO29CQUNmQyxnQkFBZ0IsRUFBRU0sUUFBUSxDQUFDTixnQkFBZ0IsRUFBRSxFQUFFLENBQUM7aUJBQ2pEO2FBQ0YsQ0FBQztZQUNGbkIsR0FBRyxDQUFDWSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ1EsYUFBYSxDQUFDLENBQUM7UUFDdEMsRUFBRSxPQUFPUCxNQUFLLEVBQUU7WUFDZEMsT0FBTyxDQUFDRCxLQUFLLENBQUNBLE1BQUssQ0FBQyxDQUFDO1lBQ3JCZCxHQUFHLENBQUNZLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dCQUFFQyxLQUFLLEVBQUUsNEJBQTRCO2FBQUUsQ0FBQyxDQUFDO1FBQ2hFLENBQUM7SUFDSCxPQUFPLElBQUlmLEdBQUcsQ0FBQ0UsTUFBTSxLQUFLLEtBQUssRUFBRTtRQUMvQixNQUFNLEVBQUV5QixFQUFFLEdBQUVqQixNQUFNLEVBQU5BLE9BQU0sR0FBRUUsV0FBVyxFQUFYQSxZQUFXLEdBQUVLLFNBQVMsRUFBVEEsVUFBUyxHQUFFQyxnQkFBZ0IsRUFBaEJBLGlCQUFnQixHQUFFQyxlQUFlLEVBQWZBLGdCQUFlLEdBQUVDLGdCQUFnQixFQUFoQkEsaUJBQWdCLEdBQUUsR0FBR3BCLEdBQUcsQ0FBQ3FCLElBQUk7UUFDNUcsSUFBSTtZQUNGLE1BQU1PLG1CQUFtQixHQUFHLE1BQU05QixNQUFNLENBQUNRLFFBQVEsQ0FBQ3VCLE1BQU0sQ0FBQztnQkFDdkRyQixLQUFLLEVBQUU7b0JBQUVtQixFQUFFLEVBQUVELFFBQVEsQ0FBQ0MsRUFBRSxDQUFDO2lCQUFFO2dCQUMzQkgsSUFBSSxFQUFFO29CQUNKZCxNQUFNLEVBQU5BLE9BQU07b0JBQ05FLFdBQVcsRUFBWEEsWUFBVztvQkFDWEssU0FBUyxFQUFUQSxVQUFTO29CQUNUQyxnQkFBZ0IsRUFBRSxJQUFJTyxJQUFJLENBQUNQLGlCQUFnQixDQUFDO29CQUM1Q0MsZUFBZSxFQUFmQSxnQkFBZTtvQkFDZkMsZ0JBQWdCLEVBQUVNLFFBQVEsQ0FBQ04saUJBQWdCLEVBQUUsRUFBRSxDQUFDO2lCQUNqRDthQUNGLENBQUM7WUFDRm5CLEdBQUcsQ0FBQ1ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNjLG1CQUFtQixDQUFDLENBQUM7UUFDNUMsRUFBRSxPQUFPYixNQUFLLEVBQUU7WUFDZEMsT0FBTyxDQUFDRCxLQUFLLENBQUNBLE1BQUssQ0FBQyxDQUFDO1lBQ3JCZCxHQUFHLENBQUNZLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dCQUFFQyxLQUFLLEVBQUUsaUNBQWlDO2FBQUUsQ0FBQyxDQUFDO1FBQ3JFLENBQUM7SUFDSCxPQUFPO1FBQ0xkLEdBQUcsQ0FBQ1ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFBRWdCLE9BQU8sRUFBRSx3QkFBcUI7U0FBRSxDQUFDLENBQUM7SUFDM0QsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91bHRpbWEtdGFyZWEvLi9wYWdlcy9hcGkvcHJvZHVjdG9zLmpzP2IyMDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xyXG5jb25zdCBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbiAgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSB7XHJcbiAgICBjb25zdCB7IHNlYXJjaCB9ID0gcmVxLnF1ZXJ5OyAvLyBSZWNpYmUgZWwgcGFyw6FtZXRybyBkZSBiw7pzcXVlZGFcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBwcm9kdWN0b3M7XHJcbiAgICAgIGlmIChzZWFyY2gpIHtcclxuICAgICAgICBwcm9kdWN0b3MgPSBhd2FpdCBwcmlzbWEucHJvZHVjdG8uZmluZE1hbnkoe1xyXG4gICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgT1I6IFtcclxuICAgICAgICAgICAgICB7IGNvZGlnbzogeyBjb250YWluczogc2VhcmNoIH0gfSxcclxuICAgICAgICAgICAgICB7IGRlc2NyaXBjaW9uOiB7IGNvbnRhaW5zOiBzZWFyY2ggfSB9LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwcm9kdWN0b3MgPSBhd2FpdCBwcmlzbWEucHJvZHVjdG8uZmluZE1hbnkoKTtcclxuICAgICAgfVxyXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihwcm9kdWN0b3MpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJvciBhbCBvYnRlbmVyIGxvcyBwcm9kdWN0b3MnIH0pO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XHJcbiAgICBjb25zdCB7IGNvZGlnbywgZGVzY3JpcGNpb24sIHByb3ZlZWRvciwgZmVjaGFWZW5jaW1pZW50bywgdWJpY2FjaW9uRmlzaWNhLCBleGlzdGVuY2lhTWluaW1hIH0gPSByZXEuYm9keTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IG51ZXZvUHJvZHVjdG8gPSBhd2FpdCBwcmlzbWEucHJvZHVjdG8uY3JlYXRlKHtcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBjb2RpZ28sXHJcbiAgICAgICAgICBkZXNjcmlwY2lvbixcclxuICAgICAgICAgIHByb3ZlZWRvcixcclxuICAgICAgICAgIGZlY2hhVmVuY2ltaWVudG86IG5ldyBEYXRlKGZlY2hhVmVuY2ltaWVudG8pLFxyXG4gICAgICAgICAgdWJpY2FjaW9uRmlzaWNhLFxyXG4gICAgICAgICAgZXhpc3RlbmNpYU1pbmltYTogcGFyc2VJbnQoZXhpc3RlbmNpYU1pbmltYSwgMTApLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgICByZXMuc3RhdHVzKDIwMSkuanNvbihudWV2b1Byb2R1Y3RvKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnRXJyb3IgYWwgY3JlYXIgZWwgcHJvZHVjdG8nIH0pO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ1BVVCcpIHtcclxuICAgIGNvbnN0IHsgaWQsIGNvZGlnbywgZGVzY3JpcGNpb24sIHByb3ZlZWRvciwgZmVjaGFWZW5jaW1pZW50bywgdWJpY2FjaW9uRmlzaWNhLCBleGlzdGVuY2lhTWluaW1hIH0gPSByZXEuYm9keTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHByb2R1Y3RvQWN0dWFsaXphZG8gPSBhd2FpdCBwcmlzbWEucHJvZHVjdG8udXBkYXRlKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogcGFyc2VJbnQoaWQpIH0sXHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgY29kaWdvLFxyXG4gICAgICAgICAgZGVzY3JpcGNpb24sXHJcbiAgICAgICAgICBwcm92ZWVkb3IsXHJcbiAgICAgICAgICBmZWNoYVZlbmNpbWllbnRvOiBuZXcgRGF0ZShmZWNoYVZlbmNpbWllbnRvKSxcclxuICAgICAgICAgIHViaWNhY2lvbkZpc2ljYSxcclxuICAgICAgICAgIGV4aXN0ZW5jaWFNaW5pbWE6IHBhcnNlSW50KGV4aXN0ZW5jaWFNaW5pbWEsIDEwKSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocHJvZHVjdG9BY3R1YWxpemFkbyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGFsIGFjdHVhbGl6YXIgZWwgcHJvZHVjdG8nIH0pO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNSkuanNvbih7IG1lc3NhZ2U6ICdNw6l0b2RvIG5vIHBlcm1pdGlkbycgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwicHJpc21hIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInNlYXJjaCIsInF1ZXJ5IiwicHJvZHVjdG9zIiwicHJvZHVjdG8iLCJmaW5kTWFueSIsIndoZXJlIiwiT1IiLCJjb2RpZ28iLCJjb250YWlucyIsImRlc2NyaXBjaW9uIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsInByb3ZlZWRvciIsImZlY2hhVmVuY2ltaWVudG8iLCJ1YmljYWNpb25GaXNpY2EiLCJleGlzdGVuY2lhTWluaW1hIiwiYm9keSIsIm51ZXZvUHJvZHVjdG8iLCJjcmVhdGUiLCJkYXRhIiwiRGF0ZSIsInBhcnNlSW50IiwiaWQiLCJwcm9kdWN0b0FjdHVhbGl6YWRvIiwidXBkYXRlIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/productos.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/productos.js"));
module.exports = __webpack_exports__;

})();